<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BestwAI Raffle - Admin Panel</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body class="admin-page">
    <div class="admin-container">
        <header class="admin-header">
            <h1>‚öôÔ∏è Admin Panel</h1>
            <a href="/" class="btn btn-secondary">‚Üê Back to Raffle</a>
        </header>

        <main class="admin-main">
            <!-- Quick Actions -->
            <section class="admin-section">
                <h2>Quick Actions</h2>
                <div class="action-buttons">
                    <button id="triggerDrawBtn" class="btn btn-warning btn-large">
                        üé≤ Trigger Draw Now
                    </button>
                    <button id="resetSystemBtn" class="btn btn-danger">
                        üóëÔ∏è Reset System
                    </button>
                </div>
            </section>

            <!-- Current Raffle Status -->
            <section class="admin-section">
                <h2>Current Raffle</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">Status:</span>
                        <span class="status-value" id="raffleStatus">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Pot:</span>
                        <span class="status-value" id="rafflePot">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Participants:</span>
                        <span class="status-value" id="raffleParticipants">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Draw Time:</span>
                        <span class="status-value" id="raffleDrawTime">--</span>
                    </div>
                </div>
            </section>

            <!-- Token Generator -->
            <section class="admin-section">
                <h2>Generate Tokens</h2>
                <div class="generator-form">
                    <div class="form-row">
                        <label>Number of Tokens:</label>
                        <input type="number" id="tokenCount" value="10" min="1" max="100">
                    </div>
                    <div class="form-row">
                        <label>Starting Balance:</label>
                        <input type="number" id="tokenBalance" value="100" min="1">
                    </div>
                    <button id="generateTokensBtn" class="btn btn-success">
                        Generate Tokens
                    </button>
                </div>
                <div id="generatedTokens" class="generated-tokens hidden">
                    <h3>Generated Tokens</h3>
                    <div class="token-cards" id="tokenCards"></div>
                    <button id="printTokensBtn" class="btn btn-primary">
                        üñ®Ô∏è Print Token Cards
                    </button>
                </div>
            </section>

            <!-- Configuration -->
            <section class="admin-section">
                <h2>Configuration</h2>
                <div class="config-form">
                    <div class="form-row">
                        <label>Entry Cost (tokens):</label>
                        <input type="number" id="configEntryCost" value="10" min="1">
                    </div>
                    <div class="form-row">
                        <label>Draw Interval (minutes):</label>
                        <input type="number" id="configDrawInterval" value="60" min="1">
                    </div>
                    <div class="form-row">
                        <label>Default Starting Balance:</label>
                        <input type="number" id="configStartingBalance" value="100" min="1">
                    </div>
                    <button id="saveConfigBtn" class="btn btn-primary">
                        Save Configuration
                    </button>
                </div>
            </section>

            <!-- All Tokens -->
            <section class="admin-section">
                <h2>All Tokens</h2>
                <button id="refreshTokensBtn" class="btn btn-secondary">
                    üîÑ Refresh
                </button>
                <div class="tokens-table-container">
                    <table class="tokens-table" id="tokensTable">
                        <thead>
                            <tr>
                                <th>Token ID</th>
                                <th>Balance</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tokensTableBody">
                            <tr>
                                <td colspan="4">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Print Template (hidden) -->
    <div id="printTemplate" class="print-template">
        <div id="printContent"></div>
    </div>

    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>
